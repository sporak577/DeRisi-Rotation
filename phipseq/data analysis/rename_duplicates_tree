from Bio import SeqIO

input_file = 'fasta.fasta'
output_file = "unique_headers_output.fasta"

seen = {}
with open(output_file, "w") as out:
    for i, record in enumerate(SeqIO.parse(input_file, "fasta")):
        header = record.id
        if header in seen:
            seen[header] += 1
            record.id = f"{header}_{seen[header]}"
        else:
            seen[header] = 1
            record.id = f"{header}_1"
        record.description = ""  # remove long descriptions
        SeqIO.write(record, out, "fasta")
